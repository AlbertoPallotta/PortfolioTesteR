% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/weighting.R
\name{switch_weights}
\alias{switch_weights}
\title{Switch Between Weight Matrices by Condition}
\usage{
switch_weights(weights_a, weights_b, use_b_condition, partial_blend = 1)
}
\arguments{
\item{weights_a}{Primary weight matrix}

\item{weights_b}{Alternative weight matrix}

\item{use_b_condition}{Logical vector (TRUE = use weights_b)}

\item{partial_blend}{Blend factor 0-1 (default: 1 = full switch)}
}
\value{
Weight matrix with appropriate weights per period
}
\description{
Enables regime-based strategy switching by selecting weights from two
pre-calculated weight matrices based on a condition vector. Common for
switching between defensive and aggressive portfolios.
}
\examples{
# Load sample data
data(sample_prices_weekly)

# Calculate different weight schemes
momentum <- calc_momentum(sample_prices_weekly, lookback = 12)
selected <- filter_top_n(momentum, n = 10)

# Create weight schemes
weights_equal <- weight_equally(selected)
weights_signal <- weight_by_signal(selected, momentum)

# Create switching signal (example: use AAPL momentum as regime indicator)
aapl_momentum <- momentum$AAPL
switch_signal <- as.numeric(aapl_momentum > median(aapl_momentum, na.rm = TRUE))
switch_signal[is.na(switch_signal)] <- 0

# Switch between strategies
final_weights <- switch_weights(
  weights_equal,
  weights_signal,
  switch_signal
)
}
